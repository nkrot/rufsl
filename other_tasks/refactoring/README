Задание
=======

Необходимо произвести рефакторинг скрипта assign_properties_messy, разработанного группой индийских профессионалов. Задача скрипта состоит в том, чтобы добавить в эталонный теггированный корпус некоторый набор фич. Получившийся файл является входом для утилит synb_crf и synll_crf.

Скрипт должен работать с двумя форматами входных данных, добавляя фичи *перед* эталонным тегом (перед последним полем).
1) Входной формат .wt содержит только оригинальное слово и его эталонный тег (разделены табуляцией). Новые фичи, назначаемые скриптом, вставляются между оригинальным словом и эталонным тегом.
    #SENTENCENUM	1
    #SRCFILE	-
    But	CC
    would	MD
    they	PP3AS
    do	DO
    it	PP3
    ?	?
2) Входной формат.wlt содержит оригинальное слово, это же слово в нижнем регистре и эталонный тег (все поля разделены табуляцией). Новые фичи, назначаемые скриптом, вставляются между словом в нижнем регистре и эталонным тегом, и также разделены табуляцией.
    #SENTENCENUM	2
    #SENTENCENUM	1
    #SRCFILE	-
    But	but	CC
    would	would	MD
    they	they	PP3AS
    do	do	DO
    it	it	PP3
    ?	?	?

Входные файлы с данными и файлы с ожидаемым выходом скриптов assign_features и assign_features_messy:
  corpus.wt => corpus.wt.out
  corpus.wlt => corpus.wlt.out

Примерный результат рефакторинга: assign_properties

Запускать так
  > assign_features_messy corpus.wt     # ожидается выход как в corpus.wt.out
  > assign_features_messy corpus.wlt    # ожидается выход как в corpus.wlt.out

Класс со словарем SynLDB (synldb.rb) рефакторить не надо. Класс загружает данные из файла, имя которого задано хардкодом в synldb.rb (../../dictester/dictester.all.txt). Разрешается изменить это значение, если нужно.

О фичах
=======
1. количество фич в во всех строках должно быть одинаковым. это требование к входу, подаваемому на syn{b,ll}_crf
2. именование:
  lc_* фичи, связанные с регистром написания слова и длиной
  sf_* фичи, связанные с "суффиксами" слова, точнее, с его финальными сегментами
3. в качестве фич также используются списки тегов слов.

Cовет
=====
Можно уменьшить файл словаря, чтобы скрипт работал быстрее. Потом, когда вы поймете, что и как ускорить, можно подключить полный словарь заново. ИЛИ для этой же цели ускорения скрипта можно уменьшить размер входных данных, подаваемых на вход.


